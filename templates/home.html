{% extends "base.html" %}
{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}">
{% endblock %}
{% block content %}
<form action="/dishes" method="post" class="introduction-form">
  <h3>About This Platform</h3>
  <p>Welcome to your go-to Korean food review website! This platform is designed for food enthusiasts, especially those
    new to the world of Korean cuisine. It helps you navigate and discover the rich variety of Korean dishes based on
    detailed reviews contributed by users. Whether you're curious about taste, dietary options, or affordability, we've
    got you covered!</p><br>

  <h3>What You Can Do Here</h3>
  <p>As a user, you can explore authentic Korean dishes by browsing reviews that highlight their unique flavors, dietary
    compatibility, and pricing details. Additionally, you can share your own experiences, leaving thoughtful reviews to
    help others on their journey to enjoy Korean cuisine. Let this platform be your guide to an unforgettable culinary
    adventure!</p><br>
  <button type="submit">Explore Now</button>
</form>

<form action="/dishes/filter" method="post" class="description-form">
  <h2>Filter by Review</h2>
  <div id="filter-dropdown">
    <select name="filter" id="filter" onchange="showFilterOptions()" required>
      <option value="" disabled selected>Select a filter</option>
      <option value="ingredient">Ingredient</option>
      <option value="dietary">Dietary</option>
    </select>
  </div>
  <div id="ingredient" style="display:none;">
    <select name="ingredient" id="ingredient-select">
      {% for ingredient in ingredients %}
      <option value="{{ ingredient.ingredient }}">{{ ingredient.ingredient }}</option>
      {% endfor %}
    </select>
  </div>
  <div id="dietary" style="display:none;">
    <select name="dietary" id="dietary-select">
      {% for dietary in dietaries %}
      <option value="{{ dietary.dietary }}">{{ dietary.dietary }}</option>
      {% endfor %}
    </select>
  </div>
  <button type="submit">Filter My Dish</button>
</form>

<form action="/dishes/description" method="post" class="description-form">
  <h2>Search by Description</h2>
  <textarea id="description" name="description" rows="4"
    placeholder="Example: Sweet pancakes filled with cinnamon, brown sugar, and nuts." required></textarea>
  <button type="submit">Search My Dish</button>
</form>
<script>
  function showFilterOptions() {
    document.getElementById('ingredient').style.display = 'none';
    document.getElementById('dietary').style.display = 'none';

    const selectedFilter = document.getElementById('filter').value;

    if (selectedFilter === 'ingredient') {
      document.getElementById('ingredient').style.display = 'block';
    } else if (selectedFilter === 'dietary') {
      document.getElementById('dietary').style.display = 'block';
    }
  }
</script>
{% endblock %}