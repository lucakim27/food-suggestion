{% extends "base.html" %}
{% block content %}
<div class="history-container">
    <button onclick="myFunction()" id="show_button">Show Taste Review</button>
    {% if price_history %}
        <ul id="price_history">
            {% for price in price_history %}
            <li>
                <span>{{ price.dish_name }} - {{ price.timestamp|time_ago }}</span><br>
                <form method="POST" action="{{ url_for('dishes.update_price') }}" style="display:inline;">
                    <input type="hidden" name="history_id" value="{{ price.id }}">
                    <input type="text" name="price" value="{{ price.price }}">
                    <select class="form-select" id="currency" name="currency">
                        <option value="AFN" {% if price.currency == "AFN" %}selected{% endif %}>Afghan Afghani</option>
                        <option value="ALL" {% if price.currency == "ALL" %}selected{% endif %}>Albanian Lek</option>
                        <option value="DZD" {% if price.currency == "DZD" %}selected{% endif %}>Algerian Dinar</option>
                        <option value="AOA" {% if price.currency == "AOA" %}selected{% endif %}>Angolan Kwanza</option>
                        <option value="ARS" {% if price.currency == "ARS" %}selected{% endif %}>Argentine Peso</option>
                        <option value="AMD" {% if price.currency == "AMD" %}selected{% endif %}>Armenian Dram</option>
                        <option value="AWG" {% if price.currency == "AWG" %}selected{% endif %}>Aruban Florin</option>
                        <option value="AUD" {% if price.currency == "AUD" %}selected{% endif %}>Australian Dollar</option>
                        <option value="AZN" {% if price.currency == "AZN" %}selected{% endif %}>Azerbaijani Manat</option>
                        <option value="BSD" {% if price.currency == "BSD" %}selected{% endif %}>Bahamian Dollar</option>
                        <option value="BHD" {% if price.currency == "BHD" %}selected{% endif %}>Bahraini Dinar</option>
                        <option value="BDT" {% if price.currency == "BDT" %}selected{% endif %}>Bangladeshi Taka</option>
                        <option value="BBD" {% if price.currency == "BBD" %}selected{% endif %}>Barbadian Dollar</option>
                        <option value="BYR" {% if price.currency == "BYR" %}selected{% endif %}>Belarusian Ruble</option>
                        <option value="BEF" {% if price.currency == "BEF" %}selected{% endif %}>Belgian Franc</option>
                        <option value="BZD" {% if price.currency == "BZD" %}selected{% endif %}>Belize Dollar</option>
                        <option value="BMD" {% if price.currency == "BMD" %}selected{% endif %}>Bermudan Dollar</option>
                        <option value="BTN" {% if price.currency == "BTN" %}selected{% endif %}>Bhutanese Ngultrum</option>
                        <option value="BTC" {% if price.currency == "BTC" %}selected{% endif %}>Bitcoin</option>
                        <option value="BOB" {% if price.currency == "BOB" %}selected{% endif %}>Bolivian Boliviano</option>
                        <option value="BAM" {% if price.currency == "BAM" %}selected{% endif %}>Bosnia-Herzegovina Convertible Mark</option>
                        <option value="BWP" {% if price.currency == "BWP" %}selected{% endif %}>Botswanan Pula</option>
                        <option value="BRL" {% if price.currency == "BRL" %}selected{% endif %}>Brazilian Real</option>
                        <option value="GBP" {% if price.currency == "GBP" %}selected{% endif %}>British Pound Sterling</option>
                        <option value="BND" {% if price.currency == "BND" %}selected{% endif %}>Brunei Dollar</option>
                        <option value="BGN" {% if price.currency == "BGN" %}selected{% endif %}>Bulgarian Lev</option>
                        <option value="BIF" {% if price.currency == "BIF" %}selected{% endif %}>Burundian Franc</option>
                        <option value="KHR" {% if price.currency == "KHR" %}selected{% endif %}>Cambodian Riel</option>
                        <option value="CAD" {% if price.currency == "CAD" %}selected{% endif %}>Canadian Dollar</option>
                        <option value="CVE" {% if price.currency == "CVE" %}selected{% endif %}>Cape Verdean Escudo</option>
                        <option value="KYD" {% if price.currency == "KYD" %}selected{% endif %}>Cayman Islands Dollar</option>
                        <option value="XOF" {% if price.currency == "XOF" %}selected{% endif %}>CFA Franc BCEAO</option>
                        <option value="XAF" {% if price.currency == "XAF" %}selected{% endif %}>CFA Franc BEAC</option>
                        <option value="XPF" {% if price.currency == "XPF" %}selected{% endif %}>CFP Franc</option>
                        <option value="CLP" {% if price.currency == "CLP" %}selected{% endif %}>Chilean Peso</option>
                        <option value="CNY" {% if price.currency == "CNY" %}selected{% endif %}>Chinese Yuan</option>
                        <option value="COP" {% if price.currency == "COP" %}selected{% endif %}>Colombian Peso</option>
                        <option value="KMF" {% if price.currency == "KMF" %}selected{% endif %}>Comorian Franc</option>
                        <option value="CDF" {% if price.currency == "CDF" %}selected{% endif %}>Congolese Franc</option>
                        <option value="CRC" {% if price.currency == "CRC" %}selected{% endif %}>Costa Rican ColÃ³n</option>
                        <option value="HRK" {% if price.currency == "HRK" %}selected{% endif %}>Croatian Kuna</option>
                        <option value="CUC" {% if price.currency == "CUC" %}selected{% endif %}>Cuban Convertible Peso</option>
                        <option value="CZK" {% if price.currency == "CZK" %}selected{% endif %}>Czech Republic Koruna</option>
                        <option value="DKK" {% if price.currency == "DKK" %}selected{% endif %}>Danish Krone</option>
                        <option value="DJF" {% if price.currency == "DJF" %}selected{% endif %}>Djiboutian Franc</option>
                        <option value="DOP" {% if price.currency == "DOP" %}selected{% endif %}>Dominican Peso</option>
                        <option value="XCD" {% if price.currency == "XCD" %}selected{% endif %}>East Caribbean Dollar</option>
                        <option value="EGP" {% if price.currency == "EGP" %}selected{% endif %}>Egyptian Pound</option>
                        <option value="ERN" {% if price.currency == "ERN" %}selected{% endif %}>Eritrean Nakfa</option>
                        <option value="EEK" {% if price.currency == "EEK" %}selected{% endif %}>Estonian Kroon</option>
                        <option value="ETB" {% if price.currency == "ETB" %}selected{% endif %}>Ethiopian Birr</option>
                        <option value="EUR" {% if price.currency == "EUR" %}selected{% endif %}>Euro</option>
                        <option value="FKP" {% if price.currency == "FKP" %}selected{% endif %}>Falkland Islands Pound</option>
                        <option value="FJD" {% if price.currency == "FJD" %}selected{% endif %}>Fijian Dollar</option>
                        <option value="GMD" {% if price.currency == "GMD" %}selected{% endif %}>Gambian Dalasi</option>
                        <option value="GEL" {% if price.currency == "GEL" %}selected{% endif %}>Georgian Lari</option>
                        <option value="DEM" {% if price.currency == "DEM" %}selected{% endif %}>German Mark</option>
                        <option value="GHS" {% if price.currency == "GHS" %}selected{% endif %}>Ghanaian Cedi</option>
                        <option value="GIP" {% if price.currency == "GIP" %}selected{% endif %}>Gibraltar Pound</option>
                        <option value="GRD" {% if price.currency == "GRD" %}selected{% endif %}>Greek Drachma</option>
                        <option value="GTQ" {% if price.currency == "GTQ" %}selected{% endif %}>Guatemalan Quetzal</option>
                        <option value="GNF" {% if price.currency == "GNF" %}selected{% endif %}>Guinean Franc</option>
                        <option value="GYD" {% if price.currency == "GYD" %}selected{% endif %}>Guyanaese Dollar</option>
                        <option value="HTG" {% if price.currency == "HTG" %}selected{% endif %}>Haitian Gourde</option>
                        <option value="HNL" {% if price.currency == "HNL" %}selected{% endif %}>Honduran Lempira</option>
                        <option value="HKD" {% if price.currency == "HKD" %}selected{% endif %}>Hong Kong Dollar</option>
                        <option value="HUF" {% if price.currency == "HUF" %}selected{% endif %}>Hungarian Forint</option>
                        <option value="ISK" {% if price.currency == "ISK" %}selected{% endif %}>Icelandic KrÃ³na</option>
                        <option value="INR" {% if price.currency == "INR" %}selected{% endif %}>Indian Rupee</option>
                        <option value="IDR" {% if price.currency == "IDR" %}selected{% endif %}>Indonesian Rupiah</option>
                        <option value="IRR" {% if price.currency == "IRR" %}selected{% endif %}>Iranian Rial</option>
                        <option value="IQD" {% if price.currency == "IQD" %}selected{% endif %}>Iraqi Dinar</option>
                        <option value="ILS" {% if price.currency == "ILS" %}selected{% endif %}>Israeli New Sheqel</option>
                        <option value="ITL" {% if price.currency == "ITL" %}selected{% endif %}>Italian Lira</option>
                        <option value="JMD" {% if price.currency == "JMD" %}selected{% endif %}>Jamaican Dollar</option>
                        <option value="JPY" {% if price.currency == "JPY" %}selected{% endif %}>Japanese Yen</option>
                        <option value="JOD" {% if price.currency == "JOD" %}selected{% endif %}>Jordanian Dinar</option>
                        <option value="KZT" {% if price.currency == "KZT" %}selected{% endif %}>Kazakhstani Tenge</option>
                        <option value="KES" {% if price.currency == "KES" %}selected{% endif %}>Kenyan Shilling</option>
                        <option value="KWD" {% if price.currency == "KWD" %}selected{% endif %}>Kuwaiti Dinar</option>
                        <option value="KGS" {% if price.currency == "KGS" %}selected{% endif %}>Kyrgystani Som</option>
                        <option value="LAK" {% if price.currency == "LAK" %}selected{% endif %}>Laotian Kip</option>
                        <option value="LVL" {% if price.currency == "LVL" %}selected{% endif %}>Latvian Lats</option>
                        <option value="LBP" {% if price.currency == "LBP" %}selected{% endif %}>Lebanese Pound</option>
                        <option value="LSL" {% if price.currency == "LSL" %}selected{% endif %}>Lesotho Loti</option>
                        <option value="LRD" {% if price.currency == "LRD" %}selected{% endif %}>Liberian Dollar</option>
                        <option value="LYD" {% if price.currency == "LYD" %}selected{% endif %}>Libyan Dinar</option>
                        <option value="LTL" {% if price.currency == "LTL" %}selected{% endif %}>Lithuanian Litas</option>
                        <option value="MOP" {% if price.currency == "MOP" %}selected{% endif %}>Macanese Pataca</option>
                        <option value="MKD" {% if price.currency == "MKD" %}selected{% endif %}>Macedonian Denar</option>
                        <option value="MGA" {% if price.currency == "MGA" %}selected{% endif %}>Malagasy Ariary</option>
                        <option value="MWK" {% if price.currency == "MWK" %}selected{% endif %}>Malawian Kwacha</option>
                        <option value="MYR" {% if price.currency == "MYR" %}selected{% endif %}>Malaysian Ringgit</option>
                        <option value="MVR" {% if price.currency == "MVR" %}selected{% endif %}>Maldivian Rufiyaa</option>
                        <option value="MRO" {% if price.currency == "MRO" %}selected{% endif %}>Mauritanian Ouguiya</option>
                        <option value="MUR" {% if price.currency == "MUR" %}selected{% endif %}>Mauritian Rupee</option>
                        <option value="MXN" {% if price.currency == "MXN" %}selected{% endif %}>Mexican Peso</option>
                        <option value="MDL" {% if price.currency == "MDL" %}selected{% endif %}>Moldovan Leu</option>
                        <option value="MNT" {% if price.currency == "MNT" %}selected{% endif %}>Mongolian Tugrik</option>
                        <option value="MAD" {% if price.currency == "MAD" %}selected{% endif %}>Moroccan Dirham</option>
                        <option value="MZM" {% if price.currency == "MZM" %}selected{% endif %}>Mozambican Metical</option>
                        <option value="MMK" {% if price.currency == "MMK" %}selected{% endif %}>Myanmar Kyat</option>
                        <option value="NAD" {% if price.currency == "NAD" %}selected{% endif %}>Namibian Dollar</option>
                        <option value="NPR" {% if price.currency == "NPR" %}selected{% endif %}>Nepalese Rupee</option>
                        <option value="ANG" {% if price.currency == "ANG" %}selected{% endif %}>Netherlands Antillean Guilder</option>
                        <option value="TWD" {% if price.currency == "TWD" %}selected{% endif %}>New Taiwan Dollar</option>
                        <option value="NZD" {% if price.currency == "NZD" %}selected{% endif %}>New Zealand Dollar</option>
                        <option value="NIO" {% if price.currency == "NIO" %}selected{% endif %}>Nicaraguan CÃ³rdoba</option>
                        <option value="NGN" {% if price.currency == "NGN" %}selected{% endif %}>Nigerian Naira</option>
                        <option value="KPW" {% if price.currency == "KPW" %}selected{% endif %}>North Korean Won</option>
                        <option value="NOK" {% if price.currency == "NOK" %}selected{% endif %}>Norwegian Krone</option>
                        <option value="OMR" {% if price.currency == "OMR" %}selected{% endif %}>Omani Rial</option>
                        <option value="PKR" {% if price.currency == "PKR" %}selected{% endif %}>Pakistani Rupee</option>
                        <option value="PAB" {% if price.currency == "PAB" %}selected{% endif %}>Panamanian Balboa</option>
                        <option value="PGK" {% if price.currency == "PGK" %}selected{% endif %}>Papua New Guinean Kina</option>
                        <option value="PYG" {% if price.currency == "PYG" %}selected{% endif %}>Paraguayan Guarani</option>
                        <option value="PEN" {% if price.currency == "PEN" %}selected{% endif %}>Peruvian Nuevo Sol</option>
                        <option value="PHP" {% if price.currency == "PHP" %}selected{% endif %}>Philippine Peso</option>
                        <option value="PLN" {% if price.currency == "PLN" %}selected{% endif %}>Polish Zloty</option>
                        <option value="QAR" {% if price.currency == "QAR" %}selected{% endif %}>Qatari Rial</option>
                        <option value="RON" {% if price.currency == "RON" %}selected{% endif %}>Romanian Leu</option>
                        <option value="RUB" {% if price.currency == "RUB" %}selected{% endif %}>Russian Ruble</option>
                        <option value="RWF" {% if price.currency == "RWF" %}selected{% endif %}>Rwandan Franc</option>
                        <option value="SVC" {% if price.currency == "SVC" %}selected{% endif %}>Salvadoran ColÃ³n</option>
                        <option value="WST" {% if price.currency == "WST" %}selected{% endif %}>Samoan Tala</option>
                        <option value="SAR" {% if price.currency == "SAR" %}selected{% endif %}>Saudi Riyal</option>
                        <option value="RSD" {% if price.currency == "RSD" %}selected{% endif %}>Serbian Dinar</option>
                        <option value="SCR" {% if price.currency == "SCR" %}selected{% endif %}>Seychellois Rupee</option>
                        <option value="SLL" {% if price.currency == "SLL" %}selected{% endif %}>Sierra Leonean Leone</option>
                        <option value="SGD" {% if price.currency == "SGD" %}selected{% endif %}>Singapore Dollar</option>
                        <option value="SKK" {% if price.currency == "SKK" %}selected{% endif %}>Slovak Koruna</option>
                        <option value="SBD" {% if price.currency == "SBD" %}selected{% endif %}>Solomon Islands Dollar</option>
                        <option value="SOS" {% if price.currency == "SOS" %}selected{% endif %}>Somali Shilling</option>
                        <option value="ZAR" {% if price.currency == "ZAR" %}selected{% endif %}>South African Rand</option>
                        <option value="KRW" {% if price.currency == "KRW" %}selected{% endif %}>South Korean Won</option>
                        <option value="XDR" {% if price.currency == "XDR" %}selected{% endif %}>Special Drawing Rights</option>
                        <option value="LKR" {% if price.currency == "LKR" %}selected{% endif %}>Sri Lankan Rupee</option>
                        <option value="SHP" {% if price.currency == "SHP" %}selected{% endif %}>St. Helena Pound</option>
                        <option value="SDG" {% if price.currency == "SDG" %}selected{% endif %}>Sudanese Pound</option>
                        <option value="SRD" {% if price.currency == "SRD" %}selected{% endif %}>Surinamese Dollar</option>
                        <option value="SZL" {% if price.currency == "SZL" %}selected{% endif %}>Swazi Lilangeni</option>
                        <option value="SEK" {% if price.currency == "SEK" %}selected{% endif %}>Swedish Krona</option>
                        <option value="CHF" {% if price.currency == "CHF" %}selected{% endif %}>Swiss Franc</option>
                        <option value="SYP" {% if price.currency == "SYP" %}selected{% endif %}>Syrian Pound</option>
                        <option value="STD" {% if price.currency == "STD" %}selected{% endif %}>São Tomé and Príncipe Dobra</option>
                        <option value="TJS" {% if price.currency == "TJS" %}selected{% endif %}>Tajikistani Somoni</option>
                        <option value="TZS" {% if price.currency == "TZS" %}selected{% endif %}>Tanzanian Shilling</option>
                        <option value="THB" {% if price.currency == "THB" %}selected{% endif %}>Thai Baht</option>
                        <option value="TOP" {% if price.currency == "TOP" %}selected{% endif %}>Tongan paʻanga</option>
                        <option value="TTD" {% if price.currency == "TTD" %}selected{% endif %}>Trinidad & Tobago Dollar</option>
                        <option value="TND" {% if price.currency == "TND" %}selected{% endif %}>Tunisian Dinar</option>
                        <option value="TRY" {% if price.currency == "TRY" %}selected{% endif %}>Turkish Lira</option>
                        <option value="TMT" {% if price.currency == "TMT" %}selected{% endif %}>Turkmenistani Manat</option>
                        <option value="UGX" {% if price.currency == "UGX" %}selected{% endif %}>Ugandan Shilling</option>
                        <option value="UAH" {% if price.currency == "UAH" %}selected{% endif %}>Ukrainian Hryvnia</option>
                        <option value="AED" {% if price.currency == "AED" %}selected{% endif %}>United Arab Emirates Dirham</option>
                        <option value="UYU" {% if price.currency == "UYU" %}selected{% endif %}>Uruguayan Peso</option>
                        <option value="USD" {% if price.currency == "USD" %}selected{% endif %}>US Dollar</option>
                        <option value="UZS" {% if price.currency == "UZS" %}selected{% endif %}>Uzbekistan Som</option>
                        <option value="VUV" {% if price.currency == "VUV" %}selected{% endif %}>Vanuatu Vatu</option>
                        <option value="VEF" {% if price.currency == "VEF" %}selected{% endif %}>Venezuelan Bolívar</option>
                        <option value="VND" {% if price.currency == "VND" %}selected{% endif %}>Vietnamese Dong</option>
                        <option value="YER" {% if price.currency == "YER" %}selected{% endif %}>Yemeni Rial</option>
                        <option value="ZMK" {% if price.currency == "ZMK" %}selected{% endif %}>Zambian Kwacha</option>
                    </select>
                    
                    <button type="submit" class="button update-button">Update</button>
                </form>
                
                <form method="POST" action="{{ url_for('users.deletePriceRoute') }}" style="display:inline;">
                    <input type="hidden" name="history_id" value="{{ price.id }}">
                    <button type="submit" class="button delete-button">Delete</button>
                </form>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p id="price_history">No price review available.</p>
    {% endif %}

    {% if items %}
        <ul id="taste_history" style="display: none;">
        {% for item in items|sort(attribute='timestamp', reverse=true) %}
            <li>
                <span>{{ item.dish_name }} - {{ item.timestamp|time_ago }}</span><br>
                
                <!-- Form for editing dish attributes -->
                <form method="POST" action="{{ url_for('dishes.rate_dish') }}" style="display:inline;">
                    <input type="hidden" name="history_id" value="{{ item.id }}">
                    
                    <!-- Spiciness -->
                    <select id="spiciness-{{ item.id }}" name="spiciness">
                        <option value="" disabled selected>How spicy was it?</option>
                        <option value="0" {% if item.spiciness == 0 %}selected{% endif %}>Not at all spicy</option>
                        <option value="1" {% if item.spiciness == 1 %}selected{% endif %}>A little spicy</option>
                        <option value="2" {% if item.spiciness == 2 %}selected{% endif %}>Mildly spicy</option>
                        <option value="3" {% if item.spiciness == 3 %}selected{% endif %}>Moderately spicy</option>
                        <option value="4" {% if item.spiciness == 4 %}selected{% endif %}>Very spicy</option>
                        <option value="5" {% if item.spiciness == 5 %}selected{% endif %}>Extremely spicy</option>
                    </select>
                    
                    <!-- Sweetness -->
                    <select id="sweetness-{{ item.id }}" name="sweetness">
                        <option value="" disabled selected>How sweet was it?</option>
                        <option value="0" {% if item.sweetness == 0 %}selected{% endif %}>Not sweet at all</option>
                        <option value="1" {% if item.sweetness == 1 %}selected{% endif %}>Barely sweet</option>
                        <option value="2" {% if item.sweetness == 2 %}selected{% endif %}>Mildly sweet</option>
                        <option value="3" {% if item.sweetness == 3 %}selected{% endif %}>Moderately sweet</option>
                        <option value="4" {% if item.sweetness == 4 %}selected{% endif %}>Very sweet</option>
                        <option value="5" {% if item.sweetness == 5 %}selected{% endif %}>Extremely sweet</option>
                    </select>
                    
                    <!-- Sourness -->
                    <select id="sourness-{{ item.id }}" name="sourness">
                        <option value="" disabled selected>How sour was it?</option>
                        <option value="0" {% if item.sourness == 0 %}selected{% endif %}>Not sour at all</option>
                        <option value="1" {% if item.sourness == 1 %}selected{% endif %}>Slightly sour</option>
                        <option value="2" {% if item.sourness == 2 %}selected{% endif %}>Moderately sour</option>
                        <option value="3" {% if item.sourness == 3 %}selected{% endif %}>Quite sour</option>
                        <option value="4" {% if item.sourness == 4 %}selected{% endif %}>Very sour</option>
                        <option value="5" {% if item.sourness == 5 %}selected{% endif %}>Extremely sour</option>
                    </select>
                    
                    <!-- Texture -->
                    <select id="texture-{{ item.id }}" name="texture">
                        <option value="" disabled selected>How was the texture?</option>
                        <option value="0" {% if item.texture == 0 %}selected{% endif %}>Very Soft</option>
                        <option value="1" {% if item.texture == 1 %}selected{% endif %}>Soft</option>
                        <option value="2" {% if item.texture == 2 %}selected{% endif %}>Slightly Soft</option>
                        <option value="3" {% if item.texture == 3 %}selected{% endif %}>Moderate</option>
                        <option value="4" {% if item.texture == 4 %}selected{% endif %}>Slightly Hard</option>
                        <option value="5" {% if item.texture == 5 %}selected{% endif %}>Hard</option>
                    </select>
                    
                    <!-- Temperature -->
                    <select id="temperature-{{ item.id }}" name="temperature">
                        <option value="" disabled selected>How was the temperature?</option>
                        <option value="0" {% if item.temperature == 0 %}selected{% endif %}>Cold</option>
                        <option value="1" {% if item.temperature == 1 %}selected{% endif %}>Cool</option>
                        <option value="2" {% if item.temperature == 2 %}selected{% endif %}>Slightly Cool</option>
                        <option value="3" {% if item.temperature == 3 %}selected{% endif %}>Warm</option>
                        <option value="4" {% if item.temperature == 4 %}selected{% endif %}>Hot</option>
                        <option value="5" {% if item.temperature == 5 %}selected{% endif %}>Very Hot</option>
                    </select>
                    
                    <!-- Healthiness -->
                    <select id="healthiness-{{ item.id }}" name="healthiness">
                        <option value="" disabled selected>How healthy was it?</option>
                        <option value="0" {% if item.healthiness == 0 %}selected{% endif %}>Not healthy at all</option>
                        <option value="1" {% if item.healthiness == 1 %}selected{% endif %}>Unhealthy</option>
                        <option value="2" {% if item.healthiness == 2 %}selected{% endif %}>Below average</option>
                        <option value="3" {% if item.healthiness == 3 %}selected{% endif %}>Moderately healthy</option>
                        <option value="4" {% if item.healthiness == 4 %}selected{% endif %}>Healthy</option>
                        <option value="5" {% if item.healthiness == 5 %}selected{% endif %}>Very healthy</option>
                    </select>
                    
                    <!-- Overall Rating -->
                    <select id="rating-{{ item.id }}" name="rating">
                        <option value="" disabled selected>How was it overall?</option>
                        <option value="0" {% if item.rating == 0 %}selected{% endif %}>Terrible</option>
                        <option value="1" {% if item.rating == 1 %}selected{% endif %}>Bad</option>
                        <option value="2" {% if item.rating == 2 %}selected{% endif %}>Below Average</option>
                        <option value="3" {% if item.rating == 3 %}selected{% endif %}>Average</option>
                        <option value="4" {% if item.rating == 4 %}selected{% endif %}>Good</option>
                        <option value="5" {% if item.rating == 5 %}selected{% endif %}>Excellent</option>
                    </select>
                    
                    <!-- Submit Button -->
                    <button type="submit" class="button update-button">Update</button>
                </form>
                
                <!-- Delete Button -->
                <form method="POST" action="{{ url_for('users.deleteHistoryRoute') }}" style="display:inline;">
                    <input type="hidden" name="history_id" value="{{ item.id }}">
                    <button type="submit" class="button delete-button">Delete</button>
                </form>
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p id="taste_history" style="display: none;">No taste review available.</p>
    {% endif %}
</div>
<script>
    function myFunction() {
        var x = document.getElementById("price_history")
        var y = document.getElementById("taste_history")
        var z = document.getElementById("show_button")

        if (x === null && y !== null) {
            if (z.innerText == "Show Price Review") {
                y.style.display = "none"
                z.innerText = "Show Taste Review"
            } else {
                y.style.display = "block"
                z.innerText = "Show Price Review"
            }
        } else if (y === null && x !== null) {
            if (z.innerText == "Show Price Review") {
                x.style.display = "none"
                z.innerText = "Show Taste Review"
            } else {
                x.style.display = "block"
                z.innerText = "Show Price Review"
            }
        } else if (x === null && y === null) {
            if (z.innerText == "Show Price Review") {
                z.innerText = "Show Taste Review"
            } else {
                z.innerText = "Show Price Review"
            }
        } else if (x === null || x.style.display === "none") {
            x.style.display = "block";
            y.style.display = "none"
            z.innerText = "Show Taste Review"
        } else {
            x.style.display = "none";
            y.style.display = "block"
            z.innerText = "Show Price Review"
        }
    }
</script>
{% endblock %}
